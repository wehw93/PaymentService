#  Payment Service

##  –û–ø–∏—Å–∞–Ω–∏–µ
**Payment Service** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Å—á–µ—Ç–∞–º–∏, –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞–º–∏.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ **Apache Kafka** –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- –û—Ç–º–µ–Ω–∞ –ø–ª–∞—Ç–µ–∂–∞ (–ø–æ–ª–Ω–∞—è –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–∞—è)
- REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- –†–∞–±–æ—Ç–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –ë–î —á–µ—Ä–µ–∑ **Liquibase**
- –ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Kafka-—Å–æ–æ–±—â–µ–Ω–∏–π (–ø–∞—Ç—Ç–µ—Ä–Ω ¬´–°—Ç—Ä–∞—Ç–µ–≥–∏—è¬ª)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Java 17** ‚Äî —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
- **Spring Boot 3** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫  
- **Spring Data JPA / Hibernate** ‚Äî ORM  
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö  
- **Liquibase** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏  
- **Apache Kafka** ‚Äî –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏  
- **MapStruct** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞–ø–ø–∏—Ä–æ–≤–∞–Ω–∏–µ DTO  
- **Maven** ‚Äî —Å–±–æ—Ä–∫–∞  
- **Docker, Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è  
- **JUnit 5 / Mockito** ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
- **Swagger / OpenAPI** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API  
- **Lombok** ‚Äî —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞  

---

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–î
**–¢–∞–±–ª–∏—Ü—ã:**
- `BankAccount` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—á—ë—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞  
- `PaymentTransaction` ‚Äî –ø–ª–∞—Ç—ë–∂–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è  
- `Refund` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞  

---

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Kafka-—Å–æ–æ–±—â–µ–Ω–∏–π
- **Producers** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∫–æ–º–∞–Ω–¥—ã (—Å–æ–∑–¥–∞–Ω–∏–µ/–≤–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞)  
- **Consumers** ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ —Ç–æ–ø–∏–∫–∞–º  
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** ‚Äî –∫–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–≤–æ–∏–º —Ö–µ–Ω–¥–ª–µ—Ä–æ–º  
- **JsonConverter** —Å –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º–∏ ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è  
- **Kafka Headers** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö  
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/username/payment-service.git
cd payment-service
```
### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Maven
```bash
mvn clean install
mvn spring-boot:run
```
### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
```bash
docker-compose up --build
```
### 4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```ini
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/payments
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
```
## üìå –û—Å–Ω–æ–≤–Ω—ã–µ REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
### –ú–µ—Ç–æ–¥	URL	–û–ø–∏—Å–∞–Ω–∏–µ
 - GET	/api/v1/payments	–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
 - GET	/api/v1/payments/{id}	–ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID
 - POST	/api/v1/payments	–°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂
 - POST	/api/v1/refunds	–°–æ–∑–¥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞

## Swagger: http://localhost:8080/swagger-ui.html

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
 - Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Kafka-—Å–æ–æ–±—â–µ–Ω–∏–π

 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Kafka –∏ PostgreSQL

 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Testcontainers –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤

## üí° –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç

 - **–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

 - **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ —Å Spring Boot**

 - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apache Kafka**

 - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Liquibase –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π**

 - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (¬´–°—Ç—Ä–∞—Ç–µ–≥–∏—è¬ª)**

 - **–ú–∞–ø–ø–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ —Å MapStruct**

 - **–†–∞–±–æ—Ç–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

 - **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å Swagger**

 - **Docker–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
